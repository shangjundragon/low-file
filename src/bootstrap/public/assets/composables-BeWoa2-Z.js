import{computed as e,createInjectionKey as t,init_es$3 as n,init_vue_runtime_esm_bundler as r,inject as i,off as a,on as o,onUnmounted as s,throwError as c}from"./router-DMl3VX-U.js";const l=t(`n-modal-provider`),u=t(`n-modal-api`),d=t(`n-modal-reactive-list`);n(),r();function f(){let e=i(u,null);return e===null&&c(`use-modal`,`No outer <n-modal-provider /> founded.`),e}const p=`n-draggable`;function m(t,n){let r,i=e(()=>t.value!==!1),c=e(()=>i.value?p:``),l=e(()=>{let e=t.value;return e===!0||e===!1?!0:e?e.bounds!==`none`:!0});function u(e){let t=e.querySelector(`.${p}`);if(!t||!c.value)return;let i=0,s=0,u=0,d=0,f=0,m=0,h;function g(t){t.preventDefault(),h=t;let{x:n,y:r,right:a,bottom:o}=e.getBoundingClientRect();s=n,d=r,i=window.innerWidth-a,u=window.innerHeight-o;let{left:c,top:l}=e.style;f=+l.slice(0,-2),m=+c.slice(0,-2)}function _(t){if(!h)return;let{clientX:n,clientY:r}=h,a=t.clientX-n,o=t.clientY-r;l.value&&(a>i?a=i:-a>s&&(a=-s),o>u?o=u:-o>d&&(o=-d));let c=a+m,p=o+f;e.style.top=`${p}px`,e.style.left=`${c}px`}function v(){h=void 0,n.onEnd(e)}o(`mousedown`,t,g),o(`mousemove`,window,_),o(`mouseup`,window,v),r=()=>{a(`mousedown`,t,g),o(`mousemove`,window,_),o(`mouseup`,window,v)}}function d(){r&&(r(),r=void 0)}return s(d),{stopDrag:d,startDrag:u,draggableRef:i,draggableClassRef:c}}export{p as DRAGGABLE_CLASS,u as modalApiInjectionKey,l as modalProviderInjectionKey,d as modalReactiveListInjectionKey,m as useDragModal,f as useModal};